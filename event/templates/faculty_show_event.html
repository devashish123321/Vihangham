{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Faculty Events | Vyangam</title>

<!-- Font + Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>

/* -------- GLOBAL PAGE -------- */
body {
  background: #0b0b17;
  color: white;
  font-family: 'Poppins', sans-serif;
  margin: 0;
  padding: 0;
}
 
/* -------- TITLE -------- */
.highlight-title {
  text-align: center;
  margin-top: 35px;
  margin-bottom: 25px;
  font-size: 34px;
  color: #e6cfe2;
  text-shadow: 0 0 15px rgba(28, 189, 189, 0.7);
}

/* -------- SCROLL WRAPPER -------- */
.scroll-container {
  width: 95%;
  margin: auto;
  overflow-x: auto;
  white-space: nowrap;
  padding-bottom: 20px;
}
.scroll-container::-webkit-scrollbar {
  height: 8px;
}
.scroll-container::-webkit-scrollbar-thumb {
  background: linear-gradient(90deg, #ff3191, #27d7ff);
  border-radius: 8px;
}

/* -------- EVENT CARD -------- */
.event-card {
  display: inline-block;
  width: 300px;
  height: 400px;
  margin-right: 25px;
  background: rgba(255,255,255,0.06);
  border-radius: 18px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
  transition: 0.4s;
  text-decoration: none;
  color: inherit;
}
.event-card:hover {
  transform: translateY(-10px) scale(1.04);
  box-shadow: 0 0 25px rgba(39,215,255,0.4);
}

/* clickable link that covers image + content */
.card-link {
  display: block;
  width: 100%;
  height: 100%;
  color: inherit;
  text-decoration: none;
  position: relative;
  z-index: 1;
}

/* ensure delete button stays on top */
.delete-btn {
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 3;
}

/* small hover affordance */
.event-card:hover .card-link {
  transform: translateY(-6px);
}

/* Image */
.event-card img {
  width: 100%;
  height: 170px;
  object-fit: cover;
}

/* Content */
.content {
  padding: 15px;
}
.content h3 {
  font-size: 20px;
  margin-bottom: 10px;
  color: #ffe58f;
}
.content p {
  font-size: 13px;
  color: #ddd;
  margin-bottom: 5px;
}

/* Floating Delete Button */
.delete-btn {
  position: absolute;
  top: 12px;
  right: 12px;
  background: rgba(255, 50, 50, 0.7);
  color: white;
  padding: 7px 12px;
  border-radius: 6px;
  font-size: 12px;
  text-decoration: none;
  font-weight: 700;
  box-shadow: 0 0 12px rgba(255,0,0,0.5);
  transition: 0.25s;
}
.delete-btn:hover {
  background: rgba(255, 0, 0, 1);
  scale: 1.1;
}

/* No event text */
.no-events {
  text-align: center;
  color: #aaa;
  margin-top: 50px;
  font-size: 20px;
} 
.create-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(90deg, #868184, #ef52d2);
  color: #fff;
  padding: 12px 25px;
  border-radius: 10px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 
    0 4px 15px rgba(83, 217, 254, 0.3),
    0 0 20px rgba(233, 10, 140, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  position: relative;
  overflow: hidden;
  margin-top: 25px;
  letter-spacing: 2px;
 
}

.nav-buttons {
  display: flex;
  justify-content: center;
  gap: 20px;
}



</style>
</head>
<body>
<div class="nav-buttons"> 

    <a href="/faculty_home/" class="create-btn">
        <i class="fa-solid fa-arrow-left"></i> BACK
    </a>
</div>


<h1 class="highlight-title">ðŸ“Œ Faculty Created Events ðŸ“Œ</h1>

<h2>Faculty Events</h2> 


<!-- SCROLLABLE EVENTS -->
<div class="scroll-container">

{% for event in events %}
  <div class="event-card">

    <!-- Delete Button remains on top -->
    <a href="{% url 'delete_event' event.id %}" 
       onclick="return confirm('Delete this event?')" 
       class="delete-btn">DELETE</a>

    <!-- Make image + content clickable; send event id via query param -->
   
    <a href="{% url 'participation' %}?event_id={{ event.id }}" class="card-link">

      <!-- Image -->
      {% if event.image %}
        <img src="{{ event.image.url }}" alt="Event Image">
      {% else %}
        <img src="{% static 'default.jpg' %}" alt="Default Image">
      {% endif %}

      <!-- Content -->
      <div class="content">
        <h3>{{ event.title }}</h3>
        <p>{{ event.description|truncatechars:80 }}</p>
        <p><strong>Date:</strong> {{ event.date }}</p>
        <p><strong>Time:</strong> {{ event.time }}</p>
        <p><strong>Venue:</strong> {{ event.venue }}</p>
      </div>
    </a>

  </div>

{% empty %}
  <p class="no-events">No events created yet.</p>
{% endfor %}

</div>

</body>
</html>
